import{m as x,n as M,r as w,o as ee,j as n,S as U,k as H,L as J,p as te,P as ae,M as ne,q as se,A as ie}from"./index-B-ZMzEIs.js";import{c as re,P as oe}from"./pagination-otDbm2PO.js";import{T as le}from"./Title-Cw9gDPpL.js";function W(d){let{swiper:e,extendParams:m,on:l,emit:o}=d;m({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function u(t){let a;return t&&typeof t=="string"&&e.isElement&&(a=e.el.querySelector(t),a)?a:(t&&(typeof t=="string"&&(a=[...document.querySelectorAll(t)]),e.params.uniqueNavElements&&typeof t=="string"&&a&&a.length>1&&e.el.querySelectorAll(t).length===1?a=e.el.querySelector(t):a&&a.length===1&&(a=a[0])),t&&!a?t:a)}function g(t,a){const r=e.params.navigation;t=x(t),t.forEach(s=>{s&&(s.classList[a?"add":"remove"](...r.disabledClass.split(" ")),s.tagName==="BUTTON"&&(s.disabled=a),e.params.watchOverflow&&e.enabled&&s.classList[e.isLocked?"add":"remove"](r.lockClass))})}function y(){const{nextEl:t,prevEl:a}=e.navigation;if(e.params.loop){g(a,!1),g(t,!1);return}g(a,e.isBeginning&&!e.params.rewind),g(t,e.isEnd&&!e.params.rewind)}function f(t){t.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),o("navigationPrev"))}function E(t){t.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),o("navigationNext"))}function p(){const t=e.params.navigation;if(e.params.navigation=re(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(t.nextEl||t.prevEl))return;let a=u(t.nextEl),r=u(t.prevEl);Object.assign(e.navigation,{nextEl:a,prevEl:r}),a=x(a),r=x(r);const s=(c,b)=>{c&&c.addEventListener("click",b==="next"?E:f),!e.enabled&&c&&c.classList.add(...t.lockClass.split(" "))};a.forEach(c=>s(c,"next")),r.forEach(c=>s(c,"prev"))}function v(){let{nextEl:t,prevEl:a}=e.navigation;t=x(t),a=x(a);const r=(s,c)=>{s.removeEventListener("click",c==="next"?E:f),s.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach(s=>r(s,"next")),a.forEach(s=>r(s,"prev"))}l("init",()=>{e.params.navigation.enabled===!1?k():(p(),y())}),l("toEdge fromEdge lock unlock",()=>{y()}),l("destroy",()=>{v()}),l("enable disable",()=>{let{nextEl:t,prevEl:a}=e.navigation;if(t=x(t),a=x(a),e.enabled){y();return}[...t,...a].filter(r=>!!r).forEach(r=>r.classList.add(e.params.navigation.lockClass))}),l("click",(t,a)=>{let{nextEl:r,prevEl:s}=e.navigation;r=x(r),s=x(s);const c=a.target;if(e.params.navigation.hideOnClick&&!s.includes(c)&&!r.includes(c)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===c||e.pagination.el.contains(c)))return;let b;r.length?b=r[0].classList.contains(e.params.navigation.hiddenClass):s.length&&(b=s[0].classList.contains(e.params.navigation.hiddenClass)),o(b===!0?"navigationShow":"navigationHide"),[...r,...s].filter(j=>!!j).forEach(j=>j.classList.toggle(e.params.navigation.hiddenClass))}});const T=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),p(),y()},k=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),v()};Object.assign(e.navigation,{enable:T,disable:k,update:y,init:p,destroy:v})}function ce(d){let{swiper:e,extendParams:m,on:l,emit:o,params:u}=d;e.autoplay={running:!1,paused:!1,timeLeft:0},m({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let g,y,f=u&&u.autoplay?u.autoplay.delay:3e3,E=u&&u.autoplay?u.autoplay.delay:3e3,p,v=new Date().getTime(),T,k,t,a,r,s,c;function b(i){!e||e.destroyed||!e.wrapperEl||i.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",b),!c&&L())}const j=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?T=!0:T&&(E=p,T=!1);const i=e.autoplay.paused?p:v+E-new Date().getTime();e.autoplay.timeLeft=i,o("autoplayTimeLeft",i,i/f),y=requestAnimationFrame(()=>{j()})},K=()=>{let i;return e.virtual&&e.params.virtual.enabled?i=e.slides.filter(_=>_.classList.contains("swiper-slide-active"))[0]:i=e.slides[e.activeIndex],i?parseInt(i.getAttribute("data-swiper-autoplay"),10):void 0},B=i=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(y),j();let h=typeof i>"u"?e.params.autoplay.delay:i;f=e.params.autoplay.delay,E=e.params.autoplay.delay;const _=K();!Number.isNaN(_)&&_>0&&typeof i>"u"&&(h=_,f=_,E=_),p=h;const C=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(C,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,C,!0,!0),o("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(C,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,C,!0,!0),o("autoplay")),e.params.cssMode&&(v=new Date().getTime(),requestAnimationFrame(()=>{B()})))};return h>0?(clearTimeout(g),g=setTimeout(()=>{V()},h)):requestAnimationFrame(()=>{V()}),h},A=()=>{v=new Date().getTime(),e.autoplay.running=!0,B(),o("autoplayStart")},N=()=>{e.autoplay.running=!1,clearTimeout(g),cancelAnimationFrame(y),o("autoplayStop")},P=(i,h)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(g),i||(s=!0);const _=()=>{o("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",b):L()};if(e.autoplay.paused=!0,h){r&&(p=e.params.autoplay.delay),r=!1,_();return}p=(p||e.params.autoplay.delay)-(new Date().getTime()-v),!(e.isEnd&&p<0&&!e.params.loop)&&(p<0&&(p=0),_())},L=()=>{e.isEnd&&p<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(v=new Date().getTime(),s?(s=!1,B(p)):B(),e.autoplay.paused=!1,o("autoplayResume"))},q=()=>{if(e.destroyed||!e.autoplay.running)return;const i=M();i.visibilityState==="hidden"&&(s=!0,P(!0)),i.visibilityState==="visible"&&L()},R=i=>{i.pointerType==="mouse"&&(s=!0,c=!0,!(e.animating||e.autoplay.paused)&&P(!0))},F=i=>{i.pointerType==="mouse"&&(c=!1,e.autoplay.paused&&L())},Q=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",R),e.el.addEventListener("pointerleave",F))},X=()=>{e.el.removeEventListener("pointerenter",R),e.el.removeEventListener("pointerleave",F)},Y=()=>{M().addEventListener("visibilitychange",q)},Z=()=>{M().removeEventListener("visibilitychange",q)};l("init",()=>{e.params.autoplay.enabled&&(Q(),Y(),A())}),l("destroy",()=>{X(),Z(),e.autoplay.running&&N()}),l("_freeModeStaticRelease",()=>{(t||s)&&L()}),l("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?N():P(!0,!0)}),l("beforeTransitionStart",(i,h,_)=>{e.destroyed||!e.autoplay.running||(_||!e.params.autoplay.disableOnInteraction?P(!0,!0):N())}),l("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){N();return}k=!0,t=!1,s=!1,a=setTimeout(()=>{s=!0,t=!0,P(!0)},200)}}),l("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!k)){if(clearTimeout(a),clearTimeout(g),e.params.autoplay.disableOnInteraction){t=!1,k=!1;return}t&&e.params.cssMode&&L(),t=!1,k=!1}}),l("slideChange",()=>{e.destroyed||!e.autoplay.running||(r=!0)}),Object.assign(e.autoplay,{start:A,stop:N,pause:P,resume:L})}const de=[{imgURL:"https://umttikhinadasha.github.io/IT-Bookstore/assets/slide1-71ef0fb3.png",title:"Learn Enough JavaScript to Be Dangerous",ISBN13:"9780137843749"},{imgURL:"https://umttikhinadasha.github.io/IT-Bookstore/assets/slide2-d234aeab.png",title:"Learn Enough Developer Tools to Be Dangerous",ISBN13:"9780137843459"},{imgURL:"https://umttikhinadasha.github.io/IT-Bookstore/assets/slide3-3f302354.png",title:"Rails Crash Course",ISBN13:"9781593275723"}],ue="_banner_109hz_1",pe="_banner__item_109hz_4",me="_banner__img_109hz_4",fe="_banner__link_109hz_13",D={banner:ue,banner__item:pe,banner__img:me,banner__link:fe},z=d=>w.createElement("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...d},w.createElement("path",{d:"M8.91016 19.9201L15.4302 13.4001C16.2002 12.6301 16.2002 11.3701 15.4302 10.6001L8.91016 4.08008",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),ge="_controller_90hyj_1",_e="_controller_prev_90hyj_6",ye="_controller_next_90hyj_10",ve="_controller__arrow_90hyj_13",he="_controller__arrow_alternative_90hyj_18",S={controller:ge,controller_prev:_e,controller_next:ye,controller__arrow:ve,controller__arrow_alternative:he},G=({theme:d="main",indentation:e=0})=>{const m=ee(),l=d==="alternative"?`${S.controller__arrow} ${S.controller__arrow_alternative}`:S.controller__arrow,o=w.useCallback(()=>{m.slidePrev()},[m]),u=w.useCallback(()=>{m.slideNext()},[m]);return n.jsxs(n.Fragment,{children:[n.jsx("button",{style:{left:`${e}px`},onClick:o,className:`${S.controller} ${S.controller_prev}`,children:n.jsx(z,{className:l})}),n.jsx("button",{style:{right:`${e}px`},onClick:u,className:`${S.controller} ${S.controller_next}`,children:n.jsx(z,{className:l})})]})},xe=()=>n.jsx("div",{className:D.banner,children:n.jsxs(U,{modules:[W,oe,ce],autoplay:{delay:4e3},slidesPerView:1,navigation:!1,pagination:{clickable:!0},children:[de.map(({imgURL:d,ISBN13:e,title:m},l)=>n.jsx(H,{className:D.banner__item,children:n.jsx(J,{to:`/books/${e}`,className:D.banner__link,state:m,children:n.jsx("img",{src:d,alt:"",className:D.banner__img})})},l)),n.jsx(G,{})]})}),Ee=async d=>await te.get(`search/${d}`).then(m=>m.data.books.map(o=>{const u=o.price.replace(/\$/g,"");return{...o,ISBN13:o.isbn13,price:u}})),be="_sliderInfo_1kix3_1",we="_slider__wrapper_1kix3_6",ke="_preloader_1kix3_10",I={sliderInfo:be,slider__wrapper:we,preloader:ke},$=({title:d})=>{const[e,m]=w.useState([]),[l,o]=w.useState(!1),[u,g]=w.useState(!1);w.useEffect(()=>{(async()=>{try{o(!0),m([...await Ee(d)])}catch{g(!0)}finally{o(!1)}})()},[d]);const y={320:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4},1440:{slidesPerView:5}};return l?n.jsx("section",{className:I.preloader,children:n.jsx(ae,{})}):u?n.jsx("section",{children:"Some error"}):n.jsxs("section",{className:I.slider,children:[n.jsxs("div",{className:I.sliderInfo,children:[n.jsx(le,{children:d}),n.jsx(J,{to:`/search/${d}`,children:n.jsx(ne,{children:"SEE MORE"})})]}),n.jsxs(U,{modules:[W],slidesPerView:5,navigation:!1,breakpoints:y,spaceBetween:20,className:I.slider__wrapper,children:[e.map(f=>n.jsx(H,{children:n.jsx(se,{...f,addToCartButton:n.jsx(ie,{ISBN13:f.ISBN13,data:{count:1,image:f.image,price:f.price,title:f.title}})})},f.ISBN13)),n.jsx(G,{theme:"alternative",indentation:-10})]})]})},Le="_mainPage_19ivt_1",Se="_mainPage__banner_19ivt_5",je="_mainPage__sliders_19ivt_8",O={mainPage:Le,mainPage__banner:Se,mainPage__sliders:je},Ce=()=>n.jsxs("div",{className:O.mainPage,children:[n.jsx("div",{className:O.mainPage__banner,children:n.jsx(xe,{})}),n.jsx("div",{className:`${O.mainPage__container} container`,children:n.jsxs("div",{className:O.mainPage__sliders,children:[n.jsx($,{title:"Python"}),n.jsx($,{title:"JavaScript"}),n.jsx($,{title:"Android"})]})})]});export{Ce as MainPage};
